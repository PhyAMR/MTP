% This file contains the shared preamble for your book.
\ifxetexorluatex
	\usepackage{polyglossia}
	\setmainlanguage{english}
\else
	\usepackage{babel}
\fi
\usepackage{csquotes}


\usepackage{blindtext}


% Load the bibliography package
\usepackage{kaobiblio}
\addbibresource{main.bib} % Bibliography file

% Load mathematical packages for theorems and related environments
\usepackage[framed=true]{kaotheorems}

% Load the package for hyperreferences
\usepackage{kaorefs}

%%%%%%%%%%%%%%%%Paquetes%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{tikz}
\usepackage{cancel}
\usepackage{physics}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcounter{lecnum}
\newcommand{\listlecturename}{List of lectures}
\DeclareNewTOC[
	type=lecture,
	name=\listlecturename,
	listname={List of lectures}
]{lec}
\newcommand{\listoflecture}{\listof{lecture}}
\newcommand{\lecture}[3]{% changed <<<<<<<<<<<<<<<< use as  \lecture{number}{date}
    \pagestyle{myheadings}
    \newpage
    \setcounter{lecnum}{#1}
    \setcounter{page}{1}
    \refstepcounter{lecnum}
    \addcontentsline{lec}{lecture}{Lecture ~#2}
    \noindent
    \fbox{%
    \begin{minipage}{\dimexpr\textwidth-2\fboxsep-2\fboxrule\relax}
        %\begin{fullwidth}
        \centering\vspace{2mm}
        {\bfseries#2 \hfill \CourseSemester
         \vspace{4mm}\\
         \Large \hfill  Lecture #1  \hfill }
         \vspace{4mm}\\
         {\normalfont Date: #3 \hfill  Profesor: \CourseInstructor}
         \vspace{2mm}
         %\end{fullwidth}
    \end{minipage}

    } % end fbox
    \markboth{Lecture #1: #2}{Lecture #1: #2}
    %\setcounter{section}{0}% reset counters
    %\setcounter{figure}{0}
    %\setcounter{table}{0}
    %\setcounter{equation}{0}
                } % end lecture

\graphicspath{{graphics/}} % Paths in which to look for images

\makeindex[columns=3, title=Alphabetical Index, intoc] % Make LaTeX produce the files required to compile the index

\makeglossaries % Make LaTeX produce the files required to compile the glossary


\makenomenclature % Make LaTeX produce the files required to compile the nomenclature

% Reset sidenote counter at chapters
\counterwithin*{sidenote}{chapter}
% FONT and ENCODING


% MATH
\usepackage[mathscr]{euscript}
\usepackage{amsmath, amssymb}
\usepackage{physics}
\usepackage{nccmath}
\usepackage{cancel}

% GRAPHICS & FIGURES
\usepackage{graphicx}
\usepackage{subcaption} % Recommended over subfig for kaobook
\setkeys{Gin}{width=\linewidth,totalheight=\textheight,keepaspectratio}


% TABLES
\usepackage{array, multirow, multicol}

% TIKZ and DIAGRAMS
\usepackage{tikz}
\usetikzlibrary{calc, arrows.meta, chains, positioning, decorations.text}
\usepackage{venndiagram}

% THEOREMS and BOXES
\usepackage{thmtools}
\usepackage[framemethod=TikZ]{mdframed}
\usepackage{tcolorbox}
\tcbuselibrary{most}

% OTHER PACKAGES
\usepackage{float}
\usepackage[footnote]{witharrows}





% --- PACKAGES THAT MAY CONFLICT WITH KAOBOOK ---
% The 'titlesec' and 'titletoc' packages are incompatible with KOMA-Script classes like kaobook.
% The 'geometry' package can interfere with kaobook's layout.
% The 'tocloft' package is not needed as KOMA-Script provides \DeclareNewTOC.
